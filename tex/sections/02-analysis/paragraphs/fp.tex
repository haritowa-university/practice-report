\subsubsection{}
\label{sec:analysis:research:mobArch:fp}

\emph{Функциональное программирование} --- раздел дискретной математики и парадигма программирования, в которой процесс выполнения трактуется как вычисление значений функций в математическом понимании последних (в отличие от функций как подпрограмм в процедурном программировании). Функциональное программирование предполагает обходиться вычислением результатов функций от исходных данных и результатов других функций, и не предполагает явного хранения состояния программы. Соответственно, не предполагает оно и изменяемость этого состояния. \cite{wiki:fp}

После прочтения определения функционального программирования становится очевидно, что использовать исключительно этот подход при построении интерактивного приложения с пользовательским интерфейсом является крайне сложной задачей. В приложениях данного типа состояние навязывается и требованиями и операционной системой. Тем не менее существует ряд функциональных подходов, соблюдение которых значительно понижает количество ошибок:

\begin{itemize}
\item отсутствие глобального состояния;
\item отсутствие изменяемого состояния;
\item чистые функции;
\item функции высших порядков;
\item рекурсия.
\end{itemize}

После обобщения и ослабления некоторых признаков, были выведены следующие принципы будущей архитектуры:

\begin{enumerate}
\item \emph{Сокращение глобального состояния}. Данный пункт не подразумевает полный отказ от глобального состояния, однако призывает как можно больше данных передавать при инициализации, параметрами методов или в виде \gls{observable}.
\item \emph{Модульность}. Концепция чистой функции позволяет трактовать программу, как результат применения цепочки функций, следовательно всё приложение(и его отдельные части) можно декомпозировать на множество чистых функций, что позволяет повысить тестируемость и побуждает избегать неявных зависимостей.
\item \emph {Аккуратное использование изменяемого состояния}. Данный принцип призывает делать выбор в пользу неизменяемых типов данных, передаваемых по значению. 
\item \emph {Ответственный дизайн типов}. Функциональная программа с хорошим дизайном крайне трепетно относится к используемым типам, описывая ими все возможные побочные эффекты и структурируя код. Огромное количество ошибок разработчика обнаруживается на стадии компиляции.
\end{enumerate}

К сожалению, компилятор языка Swift не гарантирует оптимизацию хвостовой рекурсии, поэтому от идеи повсеместного использования рекурсии было решено отказаться в пользу богатого набора функций высшего порядка в стандартной библиотеке. В пункте \ref{sec:development:arch:ios:swift} будут раскрыты особенности языка Swift, которые помогают эффективно использовать описанные выше принципы, такие как \gls{cow}, функции высшего порядка, замыкания, Optional и некоторые другие.